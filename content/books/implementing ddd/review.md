Title: Отзыв на книгу "Implementing Domain-Driven Design"
Date: 2023-02-20
Category: books
Tags: architecture, ddd, great
Summary: Прикладная база по DDD

![Cover]({static}cover.jpg){width=50%}

**TL/DR**: Прикладная база по DDD

**Субъективная оценка**: 5/5

**Где взять**: [Amazon](https://www.amazon.com/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577)

Значительно более практичная книга, чем синяя Эванса, да и написана легче (даже есть глупые ковбойские шутки), но мне было бы тяжело без чтения Эванса. Искал более подробный рассказ про контексты, домены и как их определять. Это все нашел + теперь придется искать книжку, чтобы понять что там с агрегатами.

Инсайты:

- первые главы были для меня самыми интересными, последние читал по диагонали
- в итоге про контексты оказалось неправдоподобно просто, наверное есть подвох
- части про доменные события, архитектуру и интеграцию контекстов совсем пропустил, потому что на моем проекте все так и работает (внезапно)
- про агрегаты вышло сложно, потому что вроде это коллекция семантически связанных сущностей, но там столько слов этому посвящено, что успел запутаться
- код в примерах на удивление плохой, и дело даже не в джаве)
- иерархия получается такая: домен - поддомен - сервис - контекст - микросервис - модель, поддомены и контексты по идее маппятся на команды и примерно ложатся на разбивку из топологии команд
- интересно, что автор рекомендует налегать на значения вместо сущностей и не линковать агрессивно сущности друг на друга, чтобы уменьшить штраф производительности
- автор сильно пушит тему, что модель должна определяться бизнесом, а не реалистичностью. и что не нужно отталкиваться от схемы данных, это может привести к моделям с бедным поведением (анемичным)
- эксперты могут ошибаться в интерпретации домена, поэтому разработка может помочь в уточнении
- интересно, что язык специфичен для контекста, поэтому нейминг может не содержать его уточнения (backlog_item_committed vs backlog_item_committed_to_sprint)
- очень сильно напирают на то, что вординг феерически решает, вплоть до того, что в первую очередь нужно собрать общий язык, а потом модельки крутить
- не очень верю в форсирование инвариантов внутри моделей
- подумал, что будет все-таки сложно шерить модель из кода наружу в человеческом виде: минимально чтобы тестировщики могли ее понять, а в идеале, чтобы бизнес мог прочитать

Полезные ссылки:

- [статья про DDD в Dodo](https://habr.com/ru/company/dododev/blog/523540/) 
- [про скрещивание с С4](https://medium.com/nick-tune-tech-strategy-blog/domain-driven-architecture-diagrams-139a75acb578)
- для карт контекстов нашел ресурс [https://contextmapper.org/](https://contextmapper.org/)
- [статья Кононова про микросервисы и контексты](https://medium.com/@vladikk.com/bounded-contexts-are-not-microservices-ead44b8d6e35)

![Mindmap]({static}mindmap.png){width=100% height=100%}
